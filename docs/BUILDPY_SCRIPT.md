# The `build.py` script

- [The `build.py` script](#the-buildpy-script)
  - ["repository" subcommands](#repository-subcommands)
  - ["build project" subcommands](#build-project-subcommands)
  - ["Add new puzzle" subcommand](#add-new-puzzle-subcommand)
  - ["Get puzzle input" subcommand](#get-puzzle-input-subcommand)


A Python script has been developed to help users to operate with this repository. It automatizes several tasks in a more user-friendly way.

The script is located in [scripts/build.py](/scripts/build.py).

Below, the subcommands which this script accepts are explained.

**Note:** For more information, execute the console command `python3 script/build.py --help`.

## "repository" subcommands

The `update` subcommand allows users to download the latest version of the code in the remote repository, and apply the necessary changes in their local copies.

**Note:** For more information, execute the console command `python3 script/build.py update --help`.

## "build project" subcommands

The subcommands of the script related to the building tool are:

* `clean`: deletes the output folder as well as some metadata folders generated by the IDEs.
* `generate`: generates the CMake output for the selected projects.
* `compile`: compiles the generated projects (requires `generate` first).
* `build`: executes `generate` subcommand followed by `compile` subcommand.
* `run`: runs the selected puzzle's solution executable (requires `generate` and `compile`).
* `test`: run the unit tests of all the generated projects (requires `generate` and `compile`).

Each subcommand has its own particular parameters, so please, check the documentation to learn about them and their meaning.

**Note:** For more information, execute the console command `python3 script/build.py (clean|generate|compile|build|run|test) --help`.

## "Add new puzzle" subcommand

The `add_day` subcommand helps users to generate the folder structure as well as adding some initial versions of the files needed to start developing the solution of a new *Advent of Code* puzzle.

After executing this command, a new project is setup inside `puzzles/` folder, according to the selected year and day of the *Advent of Code* puzzle. Then, the solution can be developed inside `solution.cpp` without caring about all the project boilerplate.

**Note:** For more information, execute the console command `python3 script/build.py add_day --help`.

## "Get puzzle input" subcommand

The `get_input` subcommand helps users to download the input data from the official *Advent of Code* webpage and store it inside the corresponding subfolder inside `puzzles` path.

The *Advent of Code* session key of your logged-in user is mandatory in order to use this command. That value (long string of characters) can be retrieved from a browser cookie about you have logged-in into the official webpage.

**Warning:** This command requires that the selected puzzle's structure folder already exists, i.e., `add_day` subcommand was called earlier.

The script uses some templates (stored in `templates/` folder) to generate the files of every new puzzle.

When the script is executed, it checks that the selected puzzle's folder structure exists and look for its `input.txt` file. If it finds it, then it downloads the input data from the webpage and writes it into this file.

**Note:** For more information, execute the console command `python3 script/build.py get_input --help`.
